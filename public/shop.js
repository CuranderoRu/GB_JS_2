(()=>{"use strict";var e={12:(e,t,r)=>{e.exports=r.p+"767c109ce88092e52f89.woff"},329:(e,t,r)=>{e.exports=r.p+"ad3e3a357dd3322b17bc.woff"},562:(e,t,r)=>{e.exports=r.p+"f0dd7a122094b2682709.eot"},997:(e,t,r)=>{e.exports=r.p+"80e104afcbe9115c3df6.ttf"},62:(e,t,r)=>{e.exports=r.p+"080fc1ac712bb2ff1a24.woff"},785:(e,t,r)=>{e.exports=r.p+"4597bd693b40f5010303.ttf"},905:(e,t,r)=>{e.exports=r.p+"928ac59f167f7d14b406.ttf"},551:(e,t,r)=>{e.exports=r.p+"468c5f35d044d58761ac.ttf"},915:(e,t,r)=>{e.exports=r.p+"334e18134af8ff169983.ttf"},275:(e,t,r)=>{e.exports=r.p+"cc04cc79210a0a4e9b3e.ttf"},320:(e,t,r)=>{e.exports=r.p+"356f6ed73340e676c614.woff"},347:(e,t,r)=>{e.exports=r.p+"8fd71456c69fe0272c48.woff"},705:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=e(t);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,n){"string"==typeof e&&(e=[[null,e,""]]);var a={};if(n)for(var i=0;i<this.length;i++){var o=this[i][0];null!=o&&(a[o]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);n&&a[l[0]]||(r&&(l[2]?l[2]="".concat(r," and ").concat(l[2]):l[2]=r),t.push(l))}},t}},742:e=>{e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},285:(e,t,r)=>{r.d(t,{Z:()=>M});var n=r(705),a=r.n(n),i=r(742),o=r.n(i),s=r(347),l=r(320),c=r(275),d=r(12),p=r(329),u=r(562),h=r(62),m=r(997),f=r(915),g=r(785),b=r(905),x=r(551),y=r(599),v=a()((function(e){return e[1]})),w=o()(s),_=o()(l),L=o()(c),E=o()(d),S=o()(p),C=o()(u),k=o()(h),P=o()(m),B=o()(f),A=o()(g),I=o()(b),T=o()(x),N=o()(y);v.push([e.id,'@font-face{font-family:"Lato-Regular";src:local("Lato Regular"),local("Lato-Regular"),url('+w+') format("woff");font-weight:100;font-style:normal}@font-face{font-family:"Lato-Bold";src:local("Lato Bold"),local("Lato-Bold"),url('+_+') format("woff"),url('+L+') format("truetype");font-weight:400;font-style:normal}@font-face{font-family:"AvenirLTStd-Black";src:local("AvenirLTStd Black"),local("AvenirLTStd-Black"),url('+E+') format("woff");font-weight:normal;font-style:normal}@font-face{font-family:"AvenirLTStd-Light";src:local("AvenirLTStd Light"),local("AvenirLTStd-Light"),url('+S+') format("woff");font-weight:normal;font-style:normal}@font-face{font-family:"OpenSans-Semibold";src:local("OpenSans Semibold"),local("OpenSans-Semibold"),url('+C+') format("eot"),url('+k+') format("woff"),url('+P+') format("truetype");font-weight:500;font-style:normal}@font-face{font-family:"PTSans-Regular";src:local("PTSans Regular"),local("PTSans-Regular"),url('+B+') format("truetype");font-weight:normal;font-style:normal}@font-face{font-family:"PTSans-Bold";src:local("PTSans Bold"),local("PTSans-Bold"),url('+A+') format("truetype");font-weight:normal;font-style:normal}@font-face{font-family:"PTSans-BoldItalic";src:local("PTSans BoldItalic"),local("PTSans-BoldItalic"),url('+I+') format("truetype");font-weight:400;font-style:normal}@font-face{font-family:"PTSans-Italic";src:local("PTSans Italic"),local("PTSans-Italic"),url('+T+') format("truetype");font-weight:400;font-style:normal}body{margin:0}.container{width:1500px;margin:0 auto;box-sizing:border-box}.invisible{display:none}.fixed{position:fixed}.product-item{width:300px;text-align:center;margin:20px auto;border:2px solid #f5f5f5;background:#f7f7f7;font-family:"OpenSans-Semibold";transition:.3s ease-in}.product-item:hover{border-bottom:2px solid #fc5a5a}.product-item:hover .product-item-spec-button{background:#fc5a5a}.product-item img{display:block;margin:20px auto}.product-item-spec{display:block;width:100%}.product-item-spec h3{font-size:24px;font-weight:600;color:#444;margin:0 0 10px 0}.product-item-spec-price{font-size:20px;color:#fc5a5a;display:block;margin-bottom:12px}.product-item-spec-button{text-decoration:none;display:inline-block;padding:0 12px;background:#ccc;color:#fff;text-transform:uppercase;font-size:12px;line-height:28px;transition:.3s ease-in}.page-header{background-color:#f7f7f7;top:0}.page-header-top-menu{display:flex;justify-content:space-between}.page-header-top-menu a{font-family:"Lato-Bold";color:#999;text-decoration:none;padding:0 10px}.page-header:after{content:"";display:block;width:100%;clear:both}.page-header-wrp{display:flex;width:100%;align-items:center;justify-content:space-around;background-color:#fff;min-height:100px}.page-header-logo{display:flex;text-decoration:none;color:#666;margin-left:10%}.page-header-logo-txt{font-size:20px;font-family:"Arial";color:#656363;font-weight:bold;text-transform:uppercase;line-height:1.2;text-align:center}.page-header-logo:hover{color:#998675}.page-header-logo:active{color:red}.page-header-nav{display:flex;padding:0}.page-header-nav-mobile-menu-btn,.page-header-nav #menu__toggle{display:none}.page-header-nav-menu{display:flex;margin:0;padding:0;list-style:none}.page-header-nav-item{box-sizing:border-box;display:flex;align-items:center;margin:0 12px;padding:0;position:relative}.page-header-nav-item:hover .page-header-nav-item-submenu{visibility:visible;transition:all 1s ease-out .5s}.page-header-nav-item-link{font-family:"Lato-Regular";font-size:16px;color:#7f7f7f;text-decoration:none;line-height:1.2;text-align:left}.page-header-nav-item-link:hover{color:#c7b299}.page-header-nav-item-link:active{color:red}.page-header-nav-item-submenu{min-width:150px;background:rgba(255,255,255,.99);border:1px solid #f7f7f7;list-style:none;margin:0;padding:0;position:absolute;top:18px;left:-3px;visibility:hidden}.page-header-nav-item-submenu-item{margin:25px}.page-header-cart{display:flex;align-items:center;margin:0 0 0 100px;padding:0;background:transparent;border:none;font-family:"Arial";position:relative;min-width:150px}.page-header-cart:active,.page-header-cart:focus{outline:none}.page-header-cart-svg{fill:#7f7e7e}.page-header-cart-cost{font-family:"PTSans-Bold";font-size:20px;margin-left:5px;color:#000}.page-header-cart:hover .page-header-cart-svg{fill:orange}.page-header-cart:hover .page-header-cart-actions{visibility:visible}.page-header-cart-actions{min-width:150px;background:rgba(255,255,255,.99);border:1px solid #f7f7f7;list-style:none;margin:0;padding:0;position:absolute;top:26px;left:-3px;visibility:hidden}.page-header-cart-actions li{margin:10px;text-align:left}.page-header-search{margin:5px 0 0 26px;padding:0 180px 0 0;position:relative}.page-header-search-label{display:flex;align-items:center;width:100%;min-height:100%}.page-header-search-svg{fill:#7f7e7e}.page-header-search-input{transition:width .5s ease-in-out;width:0;min-height:0;padding:5px;outline:none;box-sizing:border-box;background-color:transparent;border:none;position:absolute;top:40px;color:#7f7e7e;font-size:16px;text-transform:capitalize}.page-header-search-input:focus{width:250px;min-height:40px;background-color:#fff;border:1px solid #7f7e7e}.page-header-search:hover .page-header-search-svg{fill:orange}.page-header-banner{min-height:400px;background-image:url('+N+');background-color:#edecec;display:flex;flex-direction:column;justify-content:center}.page-header-banner-caption{font-size:40px;font-family:"AvenirLTStd-Black";color:#fff;text-transform:uppercase;line-height:1.2;text-align:left;margin:30px 40px}.page-header-banner-text{font-size:30px;font-family:"AvenirLTStd-Light";color:#fff;text-transform:uppercase;line-height:1.2;text-align:left;margin:30px 40px}.footer{width:100%;min-height:465px;background-color:#fbfafa}.footer-misc{display:flex;justify-content:center;min-height:508px;padding:80px 0 0 0}.footer-copyright{display:flex;align-items:center;justify-content:center;min-height:111px;background-color:#111;font-size:13px;line-height:1.538;font-family:"PTSans-Regular"}.footer-copyright-wrp{margin:0;padding:0}.footer-copyright-wrp:last-child{margin:0 0 0 441px}.footer-copyright-txt{box-sizing:border-box;color:#555;text-decoration:none;border-right:1px solid #232323;margin:0;padding:0 13px 0 11px}.footer-copyright-txt-name{color:#959595}.footer-copyright-txt-highlight{color:#c7b299}.footer-copyright-txt:first-child{padding:0 13px 0 0}.footer-copyright-txt:last-child{padding:0 0 0 11px;border-right:none}.main-section{width:1024px;margin:60px auto}.main-section-header{display:block;margin:0 auto;font-size:25px;font-family:"Lato-Bold";color:#656363;font-weight:bold;text-transform:uppercase;line-height:1.2;text-align:center}.main-section-items{display:flex;flex-wrap:wrap;margin-top:30px;justify-content:space-around}.main-section-btn{display:block;min-width:150px;margin:0 auto;padding:10px 0;color:#656363;background:transparent;background-color:#f7f7f7;text-transform:uppercase;border:none;border-radius:6%;transition:.3s ease-in}.main-section-btn:active,.main-section-btn:focus{outline:none;color:#f7f7f7;font-weight:700;background-color:#f31c1c}.main-section-btn:hover{background-color:#fc5a5a}.cart{margin:20px auto}.cart-item{display:flex;margin:5px auto;width:470px;border:1px solid #000;box-shadow:11px -7px 18px -7px #000;min-height:40px;align-items:center}.cart-item-button{display:block;text-decoration:none;background-color:#36cf42;border:1px solid rgba(54,52,52,.527);border-radius:5px;box-shadow:6px -4px 10px -5px #000;width:15px;text-align:center;font-weight:bold}.cart-item-button:last-child{background-color:#ee1919}.cart-item span{display:block;margin:0 5px}.cart-item span:first-child{margin-right:20px;color:#042004;font-size:large;font-weight:bold;min-width:200px}.main-support{margin:30px auto}.contact-form{display:block;margin:0 auto;border:2px solid #ccc;padding:10px;box-sizing:border-box;width:400px}.contact-form span{display:block;margin:0 auto;text-align:center;font-weight:800}.contact-form label{display:block;margin:20px;position:relative;min-height:20px;align-items:center}.contact-form label input{position:absolute;left:165px;top:-5px;min-height:25px}.contact-form #input_submit{display:block;margin-top:10px;min-width:120px;min-height:30px;color:#656363;background:transparent;background-color:#f7f7f7}.contact-form #input_submit:active,.contact-form #input_submit:focus{outline:none;font-weight:700}.contact-form #input_submit:hover{background-color:#deebde}.incorrect_input{background-color:#fc9292}',""]);const M=v},379:(e,t,r)=>{var n,a=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}(),i=[];function o(e){for(var t=-1,r=0;r<i.length;r++)if(i[r].identifier===e){t=r;break}return t}function s(e,t){for(var r={},n=[],a=0;a<e.length;a++){var s=e[a],l=t.base?s[0]+t.base:s[0],c=r[l]||0,d="".concat(l," ").concat(c);r[l]=c+1;var p=o(d),u={css:s[1],media:s[2],sourceMap:s[3]};-1!==p?(i[p].references++,i[p].updater(u)):i.push({identifier:d,updater:f(u,t),references:1}),n.push(d)}return n}function l(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var i=r.nc;i&&(n.nonce=i)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var o=a(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var c,d=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function p(e,t,r,n){var a=r?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=d(t,a);else{var i=document.createTextNode(a),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(i,o[t]):e.appendChild(i)}}function u(e,t,r){var n=r.css,a=r.media,i=r.sourceMap;if(a?e.setAttribute("media",a):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var h=null,m=0;function f(e,t){var r,n,a;if(t.singleton){var i=m++;r=h||(h=l(t)),n=p.bind(null,r,i,!1),a=p.bind(null,r,i,!0)}else r=l(t),n=u.bind(null,r,t),a=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else a()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var r=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<r.length;n++){var a=o(r[n]);i[a].references--}for(var l=s(e,t),c=0;c<r.length;c++){var d=o(r[c]);0===i[d].references&&(i[d].updater(),i.splice(d,1))}r=l}}}},599:(e,t,r)=>{e.exports=r.p+"57ba0fc41652c7f7021f.jpg"}},t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={id:n,exports:{}};return e[n](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{class e{constructor(e,t){this._id=e,this.className=t}render(){let e=document.createElement("div");return e.id=this.id,e.classList.add(this.className),e}get id(){return this._id}}class t extends e{constructor({id:e,title:t,currency:r,price:n,category:a,imgsrc:i,popularity:o},s="",l="product-item",c){super(e,l),this.imgsrc=s||i,this.title=t,this.currency=r,this.price=n,this.category=a,this.popularity=o,this.cart=c}render(){let e=document.createElement("div");e.id=this.id,e.classList.add(this.className);let t=document.createElement("img");t.src=this.imgsrc,t.width="250",t.height="250",e.append(t);let r=document.createElement("div");r.classList.add("product-item-spec");let n=document.createElement("h3");n.textContent=this.title,r.append(n);let a=document.createElement("span");a.classList.add("product-item-spec-price"),a.innerHTML=`${this.currency} ${this.price}`,r.append(a);let i=document.createElement("a");return i.href="#",i.id=`buybutton-${this.id}`,i.classList.add("product-item-spec-button"),i.textContent="В корзину",i.addEventListener("click",this.cart),r.append(i),e.append(r),e}}class n extends e{constructor(e,t,r){super(e,"main-section-btn"),this.textContent=t,this.pushHandler=r}render(){let e=document.createElement("button");return e.classList.add(this.className),e.textContent=this.textContent,e.id=this.id,e.addEventListener("click",this.pushHandler),e}}class a{hideContent(){let e=document.getElementsByClassName("main-section");for(let t=0;t<e.length;t++)e[t].classList.add("invisible");e=document.getElementsByClassName("cart");for(let t=0;t<e.length;t++)e[t].classList.add("invisible");e=document.getElementsByClassName("main-support");for(let t=0;t<e.length;t++)e[t].classList.add("invisible")}showProducts(){let e=document.getElementsByClassName("main-section");for(let t=0;t<e.length;t++)e[t].classList.remove("invisible")}showCart(){let e=document.getElementsByClassName("cart")[0];return e.classList.remove("invisible"),e}showSupport(){let e=document.getElementsByClassName("main-support")[0];return e.classList.remove("invisible"),e}}class i{constructor(e=""){this.path=e.replace(document.location.origin+"/","")}}class o{getMenuArr(){return[{href:"controllers",label:"Controllers",submenu:[{href:"controllers/esp",label:"ESP",category:"ESP"},{href:"controllers/arduino",label:"Arduino",category:"Arduino"},{href:"controllers/raspberry",label:"Raspberry",category:"Raspberry"},{href:"controllers/stm",label:"STM",category:"STM"}]},{href:"periferals",label:"Periferals",submenu:[{href:"periferals/thermosensors",label:"Thermosensors"},{href:"periferals/air-quality",label:"Air quality"},{href:"periferals/relay",label:"Relay"}]},{href:"#",label:"About"},{href:"#",label:"Blog"},{href:"support",label:"Support"}]}buildMenu(e){let t=this.getMenuArr();return t.forEach(((t,r)=>{let n;if("submenu"in t&&t.submenu instanceof Array&&t.submenu.length>0){let a=t.submenu.map((t=>({item:new l("menuCategory"+t.category,t.href,"page-header-nav-item-submenu-item","page-header-nav-item-link",t.label,void 0,e)})));n=new s("nav-menu-submenu-"+r,"page-header-nav-item-submenu",a)}t.item=new l(null,t.href,"page-header-nav-item","page-header-nav-item-link",t.label,n,e)})),new s("nav-menu","page-header-nav-menu",t)}buildContactForm(){return new c}buildCartMenu(e){if(!document.getElementById("cartManagementMenu")){let t=document.getElementsByClassName("page-header-cart")[0],r=new s("cartManagementMenu","page-header-cart-actions",[{item:new l("viewCartItems","#",null,"page-header-nav-item-link","View items",null,e)},{item:new l("clearCart","#",null,"page-header-nav-item-link","Clear cart",null,e)}]);t.append(r.render())}}}class s extends e{constructor(e,t,r){super(e,t),this.items=r}render(){let e=document.createElement("ul");e.id=this.id,e.classList.add(this.className);for(let t=0;t<this.items.length;t++)this.items[t].item instanceof l&&e.append(this.items[t].item.render());return e}}class l extends e{constructor(e,t,r,n,a,i,o){super(e,r),this.href=t,this.aclass=n,this.label=a,this.submenu=i,this.handler=o}render(){let e=document.createElement("li");this.className&&e.classList.add(this.className);let t=document.createElement("a");return t.href=this.href,this.aclass&&t.classList.add(this.aclass),this.id&&(e.id=this.id,t.id=`a${this.id}`),t.textContent=this.label,this.handler&&t.addEventListener("click",this.handler),e.append(t),this.submenu&&e.append(this.submenu.render()),e}}class c{check(e,t){return t.test(e)}handleEvent(e){e.preventDefault();let t=document.getElementById("input_name");this.check(t.value,/^[A-Za-zА-Яа-яЁё\ ]+$/)?t.classList.remove("incorrect_input"):(t.classList.add("incorrect_input"),console.log(t.value));let r=document.getElementById("input_phone");this.check(r.value,/\+[\d]{1}\([\d]{2,3}\)[\d]{2,3}-[\d]{2,3}-[\d]{2,3}$/)?r.classList.remove("incorrect_input"):(console.log(r.value),r.classList.add("incorrect_input"));let n=document.getElementById("input_email");this.check(n.value,/^[\w]{1}[\w-\.]*@[\w-\.]+\.[a-z]{2,4}$/i)?n.classList.remove("incorrect_input"):(n.classList.add("incorrect_input"),console.log(n.value))}render(){let e=document.createElement("form");e.addEventListener("submit",this),e.classList.add("contact-form");let t=document.createElement("span");t.textContent="Contact us",e.append(t);let r=document.createElement("label");r.for="input_name",r.textContent="Your name";let n=document.createElement("input");n.id="input_name",n.type="text",n.placeholder="Ivan",n.required=!0,r.append(n),e.append(r);let a=document.createElement("label");a.for="input_phone",a.textContent="Your phone number";let i=document.createElement("input");i.id="input_phone",i.type="text",i.placeholder="+7(000)000-0000",a.append(i),e.append(a);let o=document.createElement("label");o.for="input_email",o.textContent="Your contact e-mail";let s=document.createElement("input");s.id="input_email",s.type="text",s.placeholder="my@mail.com",o.append(s),e.append(o);let l=document.createElement("label");l.for="input_content",l.textContent="Your message:",e.append(l);let c=document.createElement("textarea");c.id="input_content",c.cols="50",c.rows="10",e.append(c);let d=document.createElement("input");return d.id="input_submit",d.type="submit",d.value="Send",e.append(d),e}}class d{constructor(e=[]){this._version="1.0",this._cartSum=0,this._items=[],this.className="cart",this._productsArray=e,this.init()}get version(){return this._version}get productsArray(){return this._productsArray}set productsArray(e){this._productsArray=e}get items(){return this._items}set items(e){!e instanceof Array||(this._items=[],e.forEach((function(e,t,r){this._items.push(new p(e,e._q,this))})))}loadItems(e){!e instanceof Array||(this._items=[],e.forEach((function(e,t,r){this._items.push(new p(e,e._q,this))})))}init(){(new o).buildCartMenu(this),this.recalcCostLabel()}add(e,t=1){return new Promise(((r,n)=>{let a=!1,i=this._items.find((t=>t.id===e));if(void 0!==i&&(i.q=i.q+t,i.render(!0),a=!0),!a){let t=this.getProductById(e);void 0!==t&&(this._items.push(new p(t,1,this)),a=!0,localStorage.setItem("cart",JSON.stringify(this.getStorageData())))}this.total(),this.init(),a?r():n()}))}getStorageData(){let e=this._items.map((e=>({id:e.id,_q:e._q})));return{version:this._version,_items:e}}remove(e,t=0){return new Promise(((r,n)=>{let a=!1,i=this._items.findIndex((t=>t.id===e));i>=0&&(0===t||t>=this._items[i].q?(this._items.splice(i,1),this.render()):(this._items[i].q=this._items[i].q-t,this._items[i].render(!0)),a=!0),this.total(),a?r():n()}))}clear(){this._items=[],this._cartSum=0,document.querySelector(".cart").innerHTML="",localStorage.setItem("cart",JSON.stringify(this.getStorageData()))}total(){this._cartSum=0;for(let e=0;e<this._items.length;e++)this._cartSum+=this._items[e].sum;this._cartSum=this._cartSum.toFixed(2)}get cartSum(){return this._cartSum}getProductById(e){return this._productsArray.find((t=>t.id===e))}recalcCostLabel(){document.getElementById("cart-cost").innerHTML="&#8381; "+this._cartSum}handleEvent(e){if(e.preventDefault(),"aclearCart"===e.target.id)return this.clear(),document.getElementById("cartManagementMenu").remove(),void this.recalcCostLabel();if("aviewCartItems"===e.target.id){let e=document.getElementsByClassName("main-section");for(let t=0;t<e.length;t++)e[t].classList.toggle("invisible");return document.querySelector(".cart").classList.toggle("invisible"),void this.render()}let t=e.target.id.split("-");switch(t[0]){case"buybutton":this.add(t[1]).then((()=>{this.recalcCostLabel()})).catch((()=>{console.log("Could not add good to cart")}));break;case"remove":this.remove(t[1],1).then((()=>{this.recalcCostLabel()})).catch((()=>{console.log("Could not remove good from cart")}));break;case"dropbutton":this.remove(t[1]).then((()=>{this.recalcCostLabel()})).catch((()=>{console.log("Could not remove good from cart")}));break;default:console.log("Unsupported call ",t[0])}}render(){let e=document.getElementsByClassName(this.className)[0];e.innerHTML="",this._items.forEach((function(t,r,n){e.append(t.render())}))}}class p extends t{constructor(e,t,r){super(e,"","cart-item",r),this._q=t,this._sum=+(t*e.price).toFixed(2)}get sum(){return this._sum}get q(){return this._q}set q(e){this._q=e,this._sum=+(e*this.price).toFixed(2)}render(e=!1){let t=`cartProduct-${this.id}`,r=document.getElementById(t);if(r)r.innerHTML="";else{if(e)return;r=document.createElement("div"),r.id=t,r.classList.add(this.className)}let n=document.createElement("span");n.textContent=this.title;let a=document.createElement("a");a.textContent="-",a.className="cart-item-button",a.id=`remove-${this.id}`,a.addEventListener("click",this.cart);let i=document.createElement("a");i.textContent="+",i.className="cart-item-button",i.id=`buybutton-${this.id}`,i.addEventListener("click",this.cart);let o=document.createElement("a");o.textContent="X",o.className="cart-item-button",o.id=`dropbutton-${this.id}`,o.addEventListener("click",this.cart);let s=document.createElement("span");s.textContent=this._q;let l=document.createElement("span");l.textContent="x";let c=document.createElement("span");c.textContent=this.price;let d=document.createElement("span");d.textContent="=";let p=document.createElement("span");return p.textContent=`${this.sum} ${this.currency}`,r.append(n),r.append(a),r.append(s),r.append(i),r.append(l),r.append(c),r.append(d),r.append(p),r.append(o),r}}var u=r(379),h=r.n(u),m=r(285);function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}h()(m.Z,{insert:"head",singleton:!1}),m.Z.locals,new class{constructor(e){if(f(this,"name","app"),f(this,"productsArray",[]),this.cart=new d,void 0===localStorage.cart)this.initLocalStorage();else{let e=JSON.parse(localStorage.cart);this.cart.version!==e.version&&this.initLocalStorage()}this.smallImagePath=e.smallImagePath,this.bigImagePath=e.bigImagePath,this.pageIndex=0,this.prod_start_pos=0,this.route=new i,this.fetchProducts().then((e=>{this.productsArray=e.map((e=>new t(e,this.smallImagePath+e.imgsrc,"product-item",this.cart))),this.cart.productsArray=this.productsArray,this.fillProducts("latestList"),this.prod_start_pos=this.prod_start_pos+3,this.fillProducts("popularList")})).catch((()=>{this.cart.productsArray=[]}))}initLocalStorage(){localStorage.setItem("cart",JSON.stringify(this.cart.getStorageData()))}getPriceById(e){return this.productsArray.filter((t=>t.id===e))[0].price}fillProducts(e,t=null){let r,a=document.getElementById(e);if("latestList"===e){let e=document.getElementById("mainListHeader");t?(r=this.getProductsByCategory(t),e.textContent=t,a.innerHTML=""):(e.textContent="Latest Products",r=this.getLatestProductsArray(this.prod_start_pos,this.prod_start_pos+3))}else r=this.getPopularProductsArray();for(let e=0;e<r.length;e++)a.append(r[e].render());if("latestList"===e){let e=document.getElementById("loadMoreBTN");e||(e=new n("loadMoreBTN","Load more",this),a.parentNode.append(e.render()))}}getLatestProductsArray(e=0,t=3){return this.productsArray.filter(((r,n)=>n>=e&&n<t))}getPopularProductsArray(){let e=[],t=[].concat([],this.productsArray);return t.sort(((e,t)=>t.popularity-e.popularity)),t.reduce(((e,t)=>(e.length<=2&&t.popularity>0&&e.push(t),e)),e),e}getProductsByCategory(e){return this.productsArray.filter((t=>t.category.indexOf(e)>=0))}getProductById(e){return this.productsArray.find((t=>t.id===e))}fetchProducts(){return fetch(`/js/database${this.pageIndex}.json`).then((e=>e.json())).then((e=>e.data)).catch((e=>{console.warn("Check your network connection",e)}))}handleEvent(e){if(e.preventDefault(),"loadMoreBTN"===e.target.id)this.prod_start_pos+3>this.productsArray.length?(this.pageIndex=this.pageIndex+1,this.fetchProducts().then((e=>{this.productsArray=this.productsArray.concat(e.map((e=>new t(e,this.smallImagePath+e.imgsrc,"product-item",this.cart)))),this.cart.productsArray=this.productsArray,this.fillProducts("latestList",this.route.path),this.prod_start_pos=this.prod_start_pos+3})).catch((()=>{this.pageIndex=this.pageIndex-1}))):(this.fillProducts("latestList",this.route.path),this.prod_start_pos=this.prod_start_pos+3);else{this.route=new i(e.target.href);let t=new a;switch(t.hideContent(),this.route.path){case"support":t.showSupport();break;default:t.showProducts(),this.fillProducts("latestList",this.route.path)}}}buildForm(){const e=document.getElementById("nav"),t=new o;e.append(t.buildMenu(this).render()),document.getElementsByClassName("main-support")[0].append(t.buildContactForm().render());const r=new a;r.hideContent(),r.showProducts()}}({smallImagePath:"./img/small/",bigImagePath:"./img/big/"}).buildForm()})()})();